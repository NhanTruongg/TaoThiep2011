<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thiệp Chúc Mừng 20/11 - Fixed Lỗi Dịch Chuyển</title>
    
    <style>
        /* Reset và Cài đặt cơ bản */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #f0f8ff; 
            font-family: 'Times New Roman', serif;
            overflow: hidden; 
        }

        /* ---------------------------------- */
        /* CONTAINER CHUNG */
        /* ---------------------------------- */
        .card-wrapper {
            width: 350px;
            height: 250px;
            position: relative;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            overflow: hidden; /* Vẫn giữ overflow: hidden */
        }

        /* ---------------------------------- */
        /* TẤM THIỆP */
        /* ---------------------------------- */
        .card {
            width: 100%; 
            height: 100%; 
            position: absolute;
            top: 0;
            left: 0;
            background-color: #ffffff; 
            border-radius: 8px;
            padding: 20px;
            box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.05);
            
            /* Ban đầu ẩn trong phong bì */
            transform: translateY(100%) scale(1); /* Thêm scale(1) để có điểm bắt đầu */
            transition: transform 1.5s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.5s ease;
            opacity: 0; 
            z-index: 1; 
        }

        /* FIX 1: Thiệp bay lên hoàn toàn và phóng to */
        .card-wrapper.active .card {
            /* Tăng giá trị dịch chuyển lên để thiệp hiện ra hoàn toàn và phóng to */
            transform: translateY(-300px) scale(1.2); /* Phóng to 1.2 lần */
            opacity: 1; 
        }
        
        /* Nội dung Thiệp (Không thay đổi) */
        .card-content {
            text-align: center;
            position: relative; /* Cho phép định vị hoa lá */
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .card-content h1 {
            color: #cc3333;
            font-size: 2.5em;
            margin-bottom: 10px;
            border-bottom: 3px double #d89648;
            padding-bottom: 5px;
            position: relative;
            z-index: 2; /* Đảm bảo chữ nằm trên hoa lá */
        }

        .greeting-text {
            margin-top: 15px;
            font-size: 1.1em;
            line-height: 1.6;
            color: #333;
            text-align: left;
            padding: 0 10px;
            position: relative;
            z-index: 2;
        }
        
        .signature {
            margin-top: 20px;
            font-style: italic;
            font-weight: bold;
            color: #555;
            text-align: right;
            padding-right: 10px;
            position: relative;
            z-index: 2;
        }

        /* ---------------------------------- */
        /* TRANG TRÍ HOA LÁ BÊN TRONG THIỆP */
        /* ---------------------------------- */
        .flower-decoration {
            position: absolute;
            width: 80px;
            height: 80px;
            opacity: 0.7;
            z-index: 1; /* Nằm dưới chữ */
        }

        .flower-decoration::before, .flower-decoration::after {
            content: '';
            position: absolute;
            border-radius: 50%;
        }

        /* Cánh hoa */
        .flower-decoration::before {
            width: 40px;
            height: 40px;
            background-color: #ff8c00; /* Màu cam đậm */
            box-shadow: 0 0 10px rgba(255, 140, 0, 0.5);
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        /* Lá */
        .flower-decoration::after {
            width: 50px;
            height: 20px;
            background-color: #3cb371; /* Xanh lá cây nhạt */
            border-radius: 0 50% 50% 0;
            transform: rotate(45deg);
            top: 10px;
            left: 0px;
        }

        .flower-top-left {
            top: 10px;
            left: 10px;
            transform: rotate(-20deg);
        }

        .flower-bottom-right {
            bottom: 10px;
            right: 10px;
            transform: rotate(160deg);
        }

        /* ---------------------------------- */
        /* PHONG BÌ */
        /* ---------------------------------- */
        .envelope {
            width: 100%;
            height: 100%;
            position: absolute;
            background-color: #f7b267; 
            border-radius: 10px;
            z-index: 2; 
            transition: transform 1.5s ease, opacity 1.5s ease; 
        }
        
        /* Nắp phong bì (Phần che phủ chính) */
        .envelope::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 0;
            border-left: 175px solid transparent;
            border-right: 175px solid transparent;
            border-top: 125px solid #d89648; 
            transform-origin: top;
            transition: transform 0.5s ease 0.8s; 
            z-index: 3; 
        }
        
        /* Hiệu ứng nắp mở khi thiệp bay ra */
        .card-wrapper.active .envelope::before {
            transform: rotateX(180deg); 
        }
        
        /* Phong bì trượt xuống và biến mất hoàn toàn */
        .card-wrapper.active .envelope {
            transform: translateY(350px); 
            opacity: 0; 
            pointer-events: none; 
        }


        /* ---------------------------------- */
        /* NÚT MỞ PHONG BÌ */
        /* ---------------------------------- */
        .open-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 4; 
            padding: 10px 20px;
            background-color: #cc3333; 
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.1em;
            transition: opacity 0.3s, background-color 0.3s;
        }

        .open-button:hover {
            background-color: #a62929;
        }
        
        .card-wrapper.active .open-button {
            opacity: 0;
            pointer-events: none;
        }

    </style>
</head>
<body>

<div class="card-wrapper">
    
    <div class="card">
        <div class="card-content">
            <div class="flower-decoration flower-top-left"></div>
            <div class="flower-decoration flower-bottom-right"></div>

            <h1>Kính Chúc Mừng 20/11</h1>
            
            <p class="greeting-text">
                "Nhân ngày Nhà giáo Việt Nam, chúng con xin gửi lời tri ân sâu sắc nhất đến những người Thầy, người Cô cao quý. Sự tận tụy và nhiệt huyết của Thầy Cô chính là ngọn hải đăng soi sáng con đường tri thức cho bao thế hệ học trò.
                <br><br>
                Kính chúc Thầy Cô luôn mạnh khỏe, hạnh phúc và gặt hái thêm nhiều thành công rực rỡ trong sự nghiệp trồng người!"
            </p>
            
            <p class="signature">Trân trọng,<br>Học trò của Thầy/Cô</p>
        </div>
    </div>
    
    <div class="envelope">
        <button class="open-button" id="openCardButton">
            Mở Phong Bì
        </button>
    </div>
    
</div>

<script>
    document.getElementById('openCardButton').addEventListener('click', function() {
        const wrapper = document.querySelector('.card-wrapper');
        
        if (!wrapper.classList.contains('active')) {
            wrapper.classList.add('active');
            
            this.style.opacity = '0';
            this.style.pointerEvents = 'none';
        }
    });
</script>

</body>
</html>
